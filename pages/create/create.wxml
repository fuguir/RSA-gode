<view class="container">
  <view class="form-container">
    <!-- 路段名称 -->
    <view class="form-item">
      <text class="label">路段名称</text>
      <input 
        class="input" 
        type="text" 
        placeholder="请输入路段名称（8字以内）" 
        maxlength="8"
        value="{{formData.name}}"
        bindinput="onNameInput"
      />
      <text class="char-count">{{formData.name.length}}/8</text>
    </view>

    <!-- 省市选择 -->
    <view class="form-item">
      <text class="label">所在地区</text>
      <picker 
        mode="region" 
        bindchange="onRegionChange" 
        value="{{formData.region}}"
      >
        <view class="picker-content {{formData.region[0] ? '' : 'placeholder'}}">
          <text>{{formData.region[0] ? formData.region[0] + ' ' + formData.region[1] : '请选择省市'}}</text>
          <image class="arrow-icon" src="/assets/icons/arrow.png" />
        </view>
      </picker>
    </view>

    <!-- 道路类型 -->
    <view class="form-item">
      <text class="label">道路类型</text>
      <view class="type-options">
        <view 
          class="type-option {{formData.type === item.value ? 'active' : ''}}"
          wx:for="{{roadTypes}}"
          wx:key="value"
          data-type="{{item.value}}"
          bindtap="onTypeSelect"
        >
          {{item.label}}
        </view>
      </view>
    </view>

    <!-- 桩号方向 -->
    <view class="form-item">
      <text class="label">桩号方向</text>
      <view class="direction-options">
        <view 
          class="direction-option {{formData.direction === 'increase' ? 'active' : ''}}"
          bindtap="onDirectionSelect"
          data-direction="increase"
        >
          <image class="direction-icon" src="/assets/icons/up.png" />
          <text>上行（桩号递增）</text>
        </view>
        <view 
          class="direction-option {{formData.direction === 'decrease' ? 'active' : ''}}"
          bindtap="onDirectionSelect"
          data-direction="decrease"
        >
          <image class="direction-icon" src="/assets/icons/down.png" />
          <text>下行（桩号递减）</text>
        </view>
      </view>
    </view>

    <!-- 路段长度 -->
    <view class="form-item">
      <text class="label">路段长度</text>
      <view class="length-info">
        <text class="length-placeholder">录制完成后自动计算</text>
      </view>
    </view>
  </view>

  <!-- 底部按钮 -->
  <view class="button-group">
    <button 
      class="btn-cancel" 
      bindtap="onCancel"
    >取消</button>
    <button 
      class="btn-confirm" 
      bindtap="onConfirm"
      disabled="{{!isFormValid}}"
    >确认</button>
  </view>
</view>